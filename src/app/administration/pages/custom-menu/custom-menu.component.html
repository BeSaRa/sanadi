<ng-container *ngIf="!parent">
  <tabs-list (onTabChange)="tabChanged($event)">
    <tab [name]="tabsData.customMenus.name" [template]="customMenus"
      [title]="lang.map.lbl_custom_menus"></tab>
    <tab [name]="tabsData.defaultMenus.name" [template]="defaultMenus"
      [title]="lang.map.lbl_default_menus"></tab>
  </tabs-list>
  <ng-template #bulk>
    <ng-container *ngIf="table">
      <app-bulk-actions *ngIf="table.selection && table.selection.selected.length"
                        [selectedRecords]="table.selection.selected"
                        [actionsList]="bulkActionsList"
                        [reversedColors]="true"
                        ></app-bulk-actions>
    </ng-container>
  </ng-template>
  <ng-template #customMenus>
    <div class="row">
      <div class="col-12">
        <app-custom-menus-table
        [actions]="actions"
        [bulkActionsList]="bulkActionsList"
        [add$]="add$"
        [reload$]="reload$"
        [data]="models"
        [displayedColumns]="displayedColumns"
        [readonly]="readonly"
        [lang]="lang"
        [toast]="toast"
        [parent]="parent"
        [pageChange]="pageChange"
        [count]="count"
        >

        </app-custom-menus-table>
      </div>
    </div>
  </ng-template>
  <ng-template #defaultMenus>
    <div class="row">
      <div class="col-12">
        <app-table #defaultParentTable
                    [filter]="filterControl.value"
                    [useSearchToFilter]="true"
                    [selectable]="true"
                    [data]="defaultParents"
                    [columns]="defaultParentsColumns"
                    sortableTable>
          <table cdk-table [dataSource]="defaultParentTable.dataSource" class="table table-striped table-bordered caption-top">
            <ng-container cdkColumnDef="extra-header">
              <th class="extra-header" cdk-header-cell colSpan="100" *cdkHeaderCellDef>
                <table-header tableTitle="menu_items"
                              (textChange)="filterControl.setValue($event)"
                              [customTemplate]="bulk"
                              [allowAdd]="false"
                              ></table-header>
              </th>
            </ng-container>
            <ng-container cdkColumnDef="arName">
              <th cdk-header-cell sortable-header *cdkHeaderCellDef> {{lang.map.arabic_name}}</th>
              <td cdk-cell *cdkCellDef="let row"> {{row.arName}} </td>
            </ng-container>
            <ng-container cdkColumnDef="enName">
              <th cdk-header-cell sortable-header *cdkHeaderCellDef> {{lang.map.english_name}}</th>
              <td cdk-cell *cdkCellDef="let row"> {{row.enName}} </td>
            </ng-container>
            <ng-container cdkColumnDef="actions">
              <th cdk-header-cell *cdkHeaderCellDef> {{lang.map.lbl_actions}}</th>
              <td cdk-cell *cdkCellDef="let row; index as itemIndex" class="table-actions">
                <grid-actions [record]="row" [actions]="defaultParentsActions" [itemIndex]="itemIndex">
                </grid-actions>
              </td>
            </ng-container>
            <tr cdk-header-row *cdkHeaderRowDef="['extra-header']"></tr>
            <tr cdk-header-row *cdkHeaderRowDef="defaultParentsColumns" class="table-row-header"></tr>
            <tr cdk-row (contextmenu)="defaultParentMenu.open($event , row)" *cdkRowDef="let row; columns: defaultParentsColumns;"></tr>
            <tr *cdkNoDataRow>
              <td colspan="100" class="text-center">{{lang.map.no_records_to_display}}</td>
            </tr>
          </table>
        </app-table>
        <context-menu-item #defaultParentMenu [actions]="defaultParentsActions"></context-menu-item>
      </div>
    </div>
  </ng-template>

</ng-container>

<ng-container *ngIf="!!parent">
  <app-custom-menus-table
        [actions]="actions"
        [bulkActionsList]="bulkActionsList"
        [add$]="add$"
        [reload$]="reload$"
        [data]="models"
        [displayedColumns]="displayedColumns"
        [readonly]="readonly"
        [lang]="lang"
        [toast]="toast"
        [parent]="parent"
        [pageChange]="pageChange"
        [count]="count"
        >
        </app-custom-menus-table>
</ng-container>
