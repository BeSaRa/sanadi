<div class="dialog-toolbar bg-primary">
  <h1 class="h6 text-white">{{popupTitle}}</h1>
</div>
<div class="dialog-content">
  <ul class="nav nav-tabs" role="tablist">
    <li class="nav-item" role="presentation">
      <a id="basic-tab" href="#basic-tab-content" data-bs-toggle="tab" role="tab"
         class="nav-link active position-relative">{{langService.map.lbl_basic_info}}
        <span *ngIf="fm.getFieldInvalidStatus('basic')"
              class="position-absolute text-danger top-0 start-0 translate-middle mdi mdi-alert-circle"></span>
      </a>
    </li>
    <li class="nav-item" role="presentation">
      <a id="permissions-tab" href="#permissions-tab-content" data-bs-toggle="tab" role="tab"
         class="nav-link position-relative">{{langService.map.lbl_permissions}}
        <span *ngIf="fm.getFieldInvalidStatus('permissions')"
              class="position-absolute text-danger top-0 start-0 translate-middle mdi mdi-alert-circle"></span>
      </a>
    </li>
  </ul>
  <div class="tab-content pt-2">
    <div class="tab-pane fade show active" role="tabpanel" aria-labelledby="basic-tab"
         id="basic-tab-content">
      <form class="min-w400px" novalidate autocomplete="off" [formGroup]="form">
        <div class="row">
          <div class="col-sm-6 mb-4 position-relative">
            <label for="arName" class="form-label">{{langService.map.lbl_arabic_name}}</label>
            <input id="arName" [ngClass]="fm.getStatusClass('arName')" formControlName="arName"
                   class="form-control"/>
            <span class="invalid-feedback position-absolute">
          <span *ngIf="fm.getFieldErrors('arName')?.required">{{langService.map.err_required_field}}</span>
              <span *ngIf="fm.getFieldErrors('arName')?.minlength">
                  {{langService.map.err_specific_min_length.change({
                length: 3,
                field: langService.map.lbl_arabic_name
              })}}
                </span>
        </span>
          </div>
          <div class="col-sm-6 mb-4 position-relative">
            <label for="enName" class="form-label">{{langService.map.lbl_english_name}}</label>
            <input id="enName" [ngClass]="fm.getStatusClass('enName')" formControlName="enName"
                   class="form-control"/>
            <span class="invalid-feedback position-absolute">
          <span *ngIf="fm.getFieldErrors('enName')?.required">{{langService.map.err_required_field}}</span>
              <span *ngIf="fm.getFieldErrors('enName')?.minlength">
                  {{langService.map.err_specific_min_length.change({
                length: 3,
                field: langService.map.lbl_english_name
              })}}
                </span>
            </span>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 mb-4 position-relative">
            <label for="empNum" class="form-label">{{langService.map.lbl_employee_number}}</label>
            <input id="empNum" [ngClass]="fm.getStatusClass('empNum')" formControlName="empNum"
                   class="form-control"/>
            <span class="invalid-feedback position-absolute">
          <span *ngIf="fm.getFieldErrors('empNum')?.required">{{langService.map.err_required_field}}</span>
        </span>
          </div>
          <div class="col-sm-6 mb-4 position-relative">
            <label for="qid" class="form-label">{{langService.map.lbl_qid}}</label>
            <input id="qid" [ngClass]="fm.getStatusClass('qid')" formControlName="qid"
                   class="form-control"/>
            <span class="invalid-feedback position-absolute">
          <span *ngIf="fm.getFieldErrors('qid')?.required">{{langService.map.err_required_field}}</span>
              <span *ngIf="fm.getFieldErrors('qid')?.minlength">
                  {{langService.map.err_specific_min_length.change({
                length: 3,
                field: langService.map.lbl_qid
              })}}
                </span>
        </span>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 mb-4 position-relative">
            <label for="phoneExtension" class="form-label">{{langService.map.lbl_phone_extension}}</label>
            <input id="phoneExtension" [ngClass]="fm.getStatusClass('phoneExtension')"
                   formControlName="phoneExtension"
                   class="form-control"/>
            <span class="invalid-feedback position-absolute">
          <span *ngIf="fm.getFieldErrors('phoneExtension')?.required">{{langService.map.err_required_field}}</span>
                <span *ngIf="fm.getFieldErrors('phoneExtension')?.maxlength">
                  {{langService.map.err_specific_max_length.change({
                  length: 10,
                  field: langService.map.lbl_phone_extension
                })}}
                </span>
        </span>
          </div>
          <div class="col-sm-6 mb-4 position-relative">
            <label for="phoneNumber" class="form-label">{{langService.map.lbl_phone}}</label>
            <input id="phoneNumber" [ngClass]="fm.getStatusClass('phoneNumber')" formControlName="phoneNumber"
                   class="form-control"/>
            <span class="invalid-feedback position-absolute">
          <span *ngIf="fm.getFieldErrors('phoneNumber')?.required">{{langService.map.err_required_field}}</span>
                <span *ngIf="fm.getFieldErrors('phoneNumber')?.maxlength">
                  {{langService.map.err_specific_max_length.change({length: 50, field: langService.map.lbl_phone})}}
                </span>
        </span>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 mb-4 position-relative">
            <label for="officialPhoneNumber" class="form-label">{{langService.map.lbl_official_phone_number}}</label>
            <input id="officialPhoneNumber" [ngClass]="fm.getStatusClass('officialPhoneNumber')"
                   formControlName="officialPhoneNumber"
                   class="form-control"/>
            <span class="invalid-feedback position-absolute">
          <span *ngIf="fm.getFieldErrors('officialPhoneNumber')?.required">{{langService.map.err_required_field}}</span>
                <span *ngIf="fm.getFieldErrors('officialPhoneNumber')?.maxlength">
                  {{langService.map.err_specific_max_length.change({
                  length: 50,
                  field: langService.map.lbl_official_phone_number
                })}}
                </span>
        </span>
          </div>
          <div class="col-sm-6 mb-4 position-relative">
            <label for="email" class="form-label">{{langService.map.lbl_email}}</label>
            <input id="email" [ngClass]="fm.getStatusClass('email')" formControlName="email"
                   class="form-control"/>
            <span class="invalid-feedback position-absolute">
          <span *ngIf="fm.getFieldErrors('email')?.required">{{langService.map.err_required_field}}</span>
               <span *ngIf="fm.getFieldErrors('email')?.email">{{langService.map.err_invalid_email}}</span>
                <span *ngIf="fm.getFieldErrors('email')?.maxlength">
                  {{langService.map.err_specific_max_length.change({length: 50, field: langService.map.lbl_email})}}
                </span>
        </span>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 mb-4 position-relative">
            <label for="userType" class="form-label">{{langService.map.lbl_user_type}}</label>
            <select id="userType" formControlName="userType"
                    class="form-select"
                    [ngClass]="fm.getStatusClass('userType')">
              <option value="">{{langService.map.lbl_none}}</option>
              <option *ngFor="let option of userTypeList"
                      [ngValue]="option.lookupKey">{{option.getName()}}</option>
            </select>
            <span class="invalid-feedback position-absolute">
                <span *ngIf="fm.getFieldErrors('userType')?.required">
                  {{langService.map.err_required_field}}
                </span>
              </span>
          </div>
          <div class="col-sm-6 mb-4 position-relative">
            <label for="jobTitle" class="form-label">{{langService.map.lbl_job_title}}</label>
            <select id="jobTitle" formControlName="jobTitle"
                    class="form-select"
                    [ngClass]="fm.getStatusClass('jobTitle')">
              <option value="">{{langService.map.lbl_none}}</option>
              <option *ngFor="let option of jobTitleList"
                      [ngValue]="option.lookupKey">{{option.getName()}}</option>
            </select>
            <span class="invalid-feedback position-absolute">
                <span *ngIf="fm.getFieldErrors('jobTitle')?.required">
                  {{langService.map.err_required_field}}
                </span>
              </span>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 mb-4 position-relative">
            <label for="orgId" class="form-label">{{langService.map.lbl_org_unit}}</label>
            <select id="orgId" formControlName="orgId"
                    class="form-select"
                    [ngClass]="fm.getStatusClass('orgId')" (change)="onOrgUnitChange()">
              <option value="">{{langService.map.lbl_none}}</option>
              <option *ngFor="let ou of orgUnitList"
                      [ngValue]="ou.id">{{ou.getName()}}</option>
            </select>
            <span class="invalid-feedback position-absolute">
                <span *ngIf="fm.getFieldErrors('orgId')?.required">
                  {{langService.map.err_required_field}}
                </span>
              </span>
          </div>
          <div class="col-sm-6 mb-4 position-relative">
            <label for="orgBranchId" class="form-label">{{langService.map.lbl_branch}}</label>
            <select id="orgBranchId" formControlName="orgBranchId"
                    class="form-select"
                    [ngClass]="fm.getStatusClass('orgBranchId')">
              <option value="">{{langService.map.lbl_none}}</option>
              <option *ngFor="let branch of orgBranchList"
                      [ngValue]="branch.id">{{branch.getName()}}</option>
            </select>
            <span class="invalid-feedback position-absolute">
                <span *ngIf="fm.getFieldErrors('orgBranchId')?.required">
                  {{langService.map.err_required_field}}
                </span>
              </span>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 mb-4 position-relative">
            <label for="customRoleId" class="form-label">{{langService.map.lbl_custom_role}}</label>
            <select id="customRoleId" formControlName="customRoleId"
                    class="form-select"
                    [ngClass]="fm.getStatusClass('customRoleId')">
              <option value="">{{langService.map.lbl_none}}</option>
              <option *ngFor="let role of customRoleList"
                      [ngValue]="role.id">{{role.getName()}}</option>
            </select>
            <span class="invalid-feedback position-absolute">
                <span *ngIf="fm.getFieldErrors('customRoleId')?.required">
                  {{langService.map.err_required_field}}
                </span>
              </span>
          </div>
          <div class="col-sm-6 mb-4 position-relative">
            <label for="status" class="form-label">{{langService.map.lbl_status}}</label>
            <select id="status" formControlName="status"
                    class="form-select"
                    [ngClass]="fm.getStatusClass('customRoleId')">
              <option value="">{{langService.map.lbl_none}}</option>
              <option *ngFor="let option of orgUserStatusList"
                      [ngValue]="option.lookupKey">{{option.getName()}}</option>
            </select>
            <span class="invalid-feedback position-absolute">
                <span *ngIf="fm.getFieldErrors('customRoleId')?.required">
                  {{langService.map.err_required_field}}
                </span>
              </span>
          </div>
        </div>
      </form>
    </div>
    <div class="tab-pane fade" role="tabpanel" aria-labelledby="permissions-tab"
         id="permissions-tab-content">
    </div>
  </div>
</div>

<div class="dialog-actions">
  <button tabindex="-1" (click)="fm.displayFormValidity()" class="btn btn-link">
    <i class="mdi mdi-information-outline text-info"></i>
  </button>
  <span class="flex-grow-1"></span>
  <button [disabled]="form.invalid" (click)="saveModel()" class="btn btn-primary">{{langService.map.btn_save}}</button>
  <button [dialogClose]="model" class="btn btn-secondary">{{langService.map.btn_cancel}}</button>
</div>
