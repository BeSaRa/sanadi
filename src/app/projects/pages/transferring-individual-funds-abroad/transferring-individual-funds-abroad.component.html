<div class="row">
  <tabs-list [accordionView]="accordionView">
    <tab [hasError]="basicInfo.invalid" [template]="basic_info" [title]="lang.map.lbl_basic_info" name="basic_info">
    </tab>
    <tab [hasError]="requesterInfo.invalid" [template]="requester_info" [title]="lang.map.requester_info"
         name="requester_info">
    </tab>
    <tab *ngIf="isExternalOrganizationTransferee" [hasError]="receiverOrganizationInfo.invalid"
         [template]="receiver_organization_info" [title]="lang.map.receiver_organization_info"
         name="receiver_organization_info">
    </tab>
    <tab *ngIf="isExternalOrganizationTransferee" [template]="executive_management_info"
         [title]="lang.map.executive_management_info" name="executive_management_info"
         [hasError]="(selectedExecutives && selectedExecutives.length === 0) && isExternalOrganizationTransferee">
    </tab>
    <tab *ngIf="isIndividualTransferee" [hasError]="receiverPersonInfo.invalid" [template]="receiver_person_info"
         [title]="lang.map.receiver_person_info" name="receiver_person_info">
    </tab>
    <tab [template]="transfer_purpose_info" [title]="lang.map.transfer_purpose"
         name="transfer_purpose_info" [hasError]="(selectedPurposes && selectedPurposes.length === 0)">
    </tab>
    <tab [hasError]="financialTransactionInfo.invalid" [template]="financial_transaction_info"
         [title]="lang.map.financial_transaction_info" name="financial_transaction_info">
    </tab>
    <tab [hasError]="specialExplanation.invalid" [template]="special_explanations"
         [title]="lang.map.special_explanations"
         name="special_explanations"></tab>
    <tab *ngIf="!accordionView" [template]="attachmentsTab" [title]="lang.map.attachments" name="attachments"></tab>
  </tabs-list>
  <ng-container [formGroup]="form">
    <ng-container formGroupName="basicInfo">
      <ng-template #basic_info>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="requestType" class="form-label"
                   for="requestType">{{lang.map.request_type}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body" formControlName="requestType"
                       id="requestType" validationClasses="requestType">
              <ng-option *ngFor="let option of requestTypes" [value]="option.lookupKey">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="requestType"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="transfereeType" class="form-label"
                   for="transfereeType">{{lang.map.transferee_type}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="transfereeType"
                       id="transfereeType" validationClasses="transfereeType">
              <ng-option *ngFor="let option of transfereeTypes"
                         [value]="option.lookupKey">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="transfereeType"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="oldLicenseFullSerial" class="form-label"
                   for="oldLicenseFullSerial">{{lang.map.serial_number}}
            </label>
            <div class="input-group">
              <input (keydown.enter)="searchForLicense()" [readonly]="(readonly)"
                     class="form-control"
                     formControlName="oldLicenseFullSerial"
                     id="oldLicenseFullSerial"
                     validationClasses="oldLicenseFullSerial">
              <app-field-error-message controlName="oldLicenseFullSerial"></app-field-error-message>
              <button (click)="searchForLicense()" [disabled]="(readonly)" class="input-group-text">
                <i class="mdi mdi-magnify text-primary"></i>
              </button>
            </div>
          </div>
        </div>
<!--        <div class="row">-->
<!--          <div class="col-md-4 col-sm-12 mb-4 position-relative">-->
<!--            <div class="row" *ngIf="hasSearchedForLicense">-->
<!--              <div class="col-12 position-relative">-->
<!--                <h1 class="h6 text-primary">{{lang.map.selected_license_info}}</h1>-->
<!--                <div class="table-responsive">-->
<!--                  <app-table #table [useSearchToFilter]="true"-->
<!--                             [selectable]="true" [data]="selectedLicenses"-->
<!--                             [columns]="selectedLicenseDisplayedColumns"-->
<!--                             sortableTable>-->
<!--                    <table cdk-table [dataSource]="table.dataSource"-->
<!--                           class="table table-striped table-bordered caption-top">-->
<!--                      <ng-container cdkColumnDef="serial">-->
<!--                        <th cdk-header-cell sortable-header *cdkHeaderCellDef> {{lang.map.serial_number}}</th>-->
<!--                        <td cdk-cell *cdkCellDef="let row"> {{row.oldLicenseFullSerial}} </td>-->
<!--                      </ng-container>-->
<!--                      <ng-container cdkColumnDef="bankName">-->
<!--                        <th cdk-header-cell sortable-header *cdkHeaderCellDef> {{lang.map.bank_name}}</th>-->
<!--                        <td cdk-cell *cdkCellDef="let row"> {{row.bankInfo.getName()}} </td>-->
<!--                      </ng-container>-->
<!--                      <ng-container cdkColumnDef="currency">-->
<!--                        <th cdk-header-cell sortable-header *cdkHeaderCellDef> {{lang.map.currency}}</th>-->
<!--                        <td cdk-cell *cdkCellDef="let row"> {{row.currencyInfo.getName()}} </td>-->
<!--                      </ng-container>-->
<!--                      <ng-container cdkColumnDef="bankCategory">-->
<!--                        <th cdk-header-cell sortable-header *cdkHeaderCellDef> {{lang.map.account_type}}</th>-->
<!--                        <td cdk-cell *cdkCellDef="let row"> {{row.bankCategoryInfo.getName()}} </td>-->
<!--                      </ng-container>-->
<!--                      <tr cdk-header-row *cdkHeaderRowDef="selectedLicenseDisplayedColumns"></tr>-->
<!--                      <tr cdk-row *cdkRowDef="let row; columns: selectedLicenseDisplayedColumns;"></tr>-->
<!--                      &lt;!&ndash;suppress HtmlUnknownBooleanAttribute &ndash;&gt;-->
<!--                      <tr *cdkNoDataRow>-->
<!--                        <td colspan="100" class="text-center">{{lang.map.no_records_to_display}}</td>-->
<!--                      </tr>-->
<!--                    </table>-->
<!--                  </app-table>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
      </ng-template>
    </ng-container>
    <ng-container formGroupName="requesterInfo">
      <ng-template #requester_info>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="arName" class="form-label"
                   for="arName">{{lang.map.arabic_name}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="arName"
                   id="arName" validationClasses="arName">
            <app-field-error-message controlName="arName"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="enName" class="form-label"
                   for="enName">{{lang.map.english_name}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="enName"
                   id="enName" validationClasses="enName">
            <app-field-error-message controlName="enName"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="identificationNumber" class="form-label"
                   for="identificationNumber">{{lang.map.identification_number}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="identificationNumber"
                   id="identificationNumber" validationClasses="identificationNumber">
            <app-field-error-message controlName="identificationNumber"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="email" class="form-label"
                   for="email">{{lang.map.lbl_email}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="email"
                   id="email" validationClasses="email">
            <app-field-error-message controlName="email"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="phone" class="form-label"
                   for="phone">{{lang.map.lbl_phone}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="phone"
                   id="phone" validationClasses="phone">
            <app-field-error-message controlName="phone"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="mobileNo" class="form-label"
                   for="mobileNo">{{lang.map.mobile_number}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="mobileNo"
                   id="mobileNo" validationClasses="mobileNo">
            <app-field-error-message controlName="mobileNo"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="nationality" class="form-label"
                   for="nationality">{{lang.map.lbl_nationality}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="nationality"
                       id="nationality" validationClasses="nationality">
              <ng-option *ngFor="let option of nationalities"
                         [value]="option.lookupKey">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="nationality"></app-field-error-message>
          </div>
          <div class="col-md-8 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="address" class="form-label"
                   for="address">{{lang.map.lbl_address}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="address"
                   id="address" validationClasses="address">
            <app-field-error-message controlName="address"></app-field-error-message>
          </div>
        </div>
      </ng-template>
    </ng-container>
    <ng-container formGroupName="receiverOrganizationInfo">
      <ng-template #receiver_organization_info>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="organizationArabicName" class="form-label"
                   for="organizationArabicName">{{lang.map.organization_arabic_name}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="organizationArabicName"
                   id="organizationArabicName" validationClasses="organizationArabicName">
            <app-field-error-message controlName="organizationArabicName"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="organizationEnglishName" class="form-label"
                   for="organizationEnglishName">{{lang.map.organization_english_name}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="organizationEnglishName"
                   id="organizationEnglishName" validationClasses="organizationEnglishName">
            <app-field-error-message controlName="organizationEnglishName"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="headQuarterType" class="form-label"
                   for="headQuarterType">{{lang.map.headquarter_type}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="headQuarterType"
                       id="headQuarterType" validationClasses="headQuarterType">
              <ng-option *ngFor="let option of headQuarterTypes"
                         [value]="option.lookupKey">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="headQuarterType"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="establishmentDate" class="form-label"
                   for="establishmentDate">{{lang.map.establishment_date}}</label>
            <div class="reg-start-date-container">
              <div class="input-group">
                <i class="input-group-text mdi mdi-calendar"></i>
                <div #dpEstablishmentDate="angular-mydatepicker"
                     (click)="!readonly && dpEstablishmentDate.toggleCalendar()"
                     [ngClass]="{'input-disabled': (readonly)}"
                     [options]="datepickerOptionsMap.establishmentDate"
                     angular-mydatepicker
                     class="form-control"
                     formControlName="establishmentDate"
                     id="establishmentDate" validationClasses="establishmentDate"></div>
              </div>
            </div>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="country" class="form-label"
                   for="country">{{lang.map.country}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="country"
                       id="country" validationClasses="country">
              <ng-option *ngFor="let option of countries"
                         [value]="option.id">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="country"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="region" class="form-label"
                   for="region">{{lang.map.region}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="region"
                   id="region" validationClasses="region">
            <app-field-error-message controlName="region"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="city" class="form-label"
                   for="city">{{lang.map.city}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="city"
                   id="city" validationClasses="city">
            <app-field-error-message controlName="city"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="detailsAddress" class="form-label"
                   for="detailsAddress">{{lang.map.lbl_address}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="detailsAddress"
                   id="detailsAddress" validationClasses="detailsAddress">
            <app-field-error-message controlName="detailsAddress"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="postalCode" class="form-label"
                   for="postalCode">{{lang.map.postal_code}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="postalCode"
                   id="postalCode" validationClasses="postalCode">
            <app-field-error-message controlName="postalCode"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="website" class="form-label"
                   for="website">{{lang.map.website}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="website"
                   id="website" validationClasses="website">
            <app-field-error-message controlName="website"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="organizationEmail" class="form-label"
                   for="organizationEmail">{{lang.map.lbl_email}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="organizationEmail"
                   id="organizationEmail" validationClasses="organizationEmail">
            <app-field-error-message controlName="organizationEmail"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="firstSocialMedia" class="form-label"
                   for="firstSocialMedia">{{lang.map.social_media_1}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="firstSocialMedia"
                   id="firstSocialMedia" validationClasses="firstSocialMedia">
            <app-field-error-message controlName="firstSocialMedia"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="secondSocialMedia" class="form-label"
                   for="secondSocialMedia">{{lang.map.social_media_2}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="secondSocialMedia"
                   id="secondSocialMedia" validationClasses="secondSocialMedia">
            <app-field-error-message controlName="secondSocialMedia"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="thirdSocialMedia" class="form-label"
                   for="thirdSocialMedia">{{lang.map.social_media_3}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="thirdSocialMedia"
                   id="thirdSocialMedia" validationClasses="thirdSocialMedia">
            <app-field-error-message controlName="thirdSocialMedia"></app-field-error-message>
          </div>
        </div>
      </ng-template>
    </ng-container>
    <ng-container [formGroup]="executiveManagementForm">
      <ng-template #executive_management_info>
        <ng-container *ngIf="isExternalUser">
          <div class="row">
            <div class="col">
              <h1 class="h6 text-primary m-0 d-inline-block">{{lang.map.add_executive}}</h1>
              <button class="btn btn-link outline-none"
                      tooltip="{{lang.map.btn_add}}" (click)="openAddExecutiveForm()">
                <i class="mdi mdi-plus-box"></i></button>
            </div>
          </div>
          <ng-container *ngIf="addExecutiveFormActive">
            <div class="row">
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="nameLikePassport" class="form-label"
                       for="nameLikePassport">{{lang.map.name_in_local_language_like_passport}}</label>
                <input [readonly]="(readonly)" class="form-control"
                       formControlName="nameLikePassport"
                       id="nameLikePassport" validationClasses="nameLikePassport">
                <app-field-error-message controlName="nameLikePassport"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="englishNameLikePassport" class="form-label"
                       for="englishNameLikePassport">{{lang.map.name_in_English_language_like_passport}}</label>
                <input [readonly]="(readonly)" class="form-control" formControlName="englishNameLikePassport"
                       id="englishNameLikePassport" validationClasses="englishNameLikePassport">
                <app-field-error-message controlName="englishNameLikePassport"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="jobTitle" class="form-label"
                       for="jobTitle">{{lang.map.job_title}}</label>
                <input [readonly]="(readonly)" class="form-control" formControlName="jobTitle"
                       id="jobTitle" validationClasses="jobTitle">
                <app-field-error-message controlName="jobTitle"></app-field-error-message>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="executiveNationality" class="form-label"
                       for="executiveNationality">{{lang.map.lbl_nationality}}</label>
                <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                           formControlName="executiveNationality"
                           id="executiveNationality" validationClasses="executiveNationality">
                  <ng-option *ngFor="let option of nationalities"
                             [value]="option.lookupKey">{{option.getName()}}</ng-option>
                </ng-select>
                <app-field-error-message controlName="executiveNationality"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="executiveIdentificationNumber" class="form-label"
                       for="executiveIdentificationNumber">{{lang.map.national_id_number}}</label>
                <input [readonly]="(readonly)" class="form-control"
                       formControlName="executiveIdentificationNumber"
                       id="executiveIdentificationNumber" validationClasses="executiveIdentificationNumber">
                <app-field-error-message controlName="executiveIdentificationNumber"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="passportNumber" class="form-label"
                       for="passportNumber">{{lang.map.passport_number}}</label>
                <input [readonly]="(readonly)" class="form-control"
                       formControlName="passportNumber"
                       id="passportNumber" validationClasses="passportNumber">
                <app-field-error-message controlName="passportNumber"></app-field-error-message>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="executivephone1" class="form-label"
                       for="executivephone1">{{lang.map.lbl_phone_1}}</label>
                <input [readonly]="(readonly)" class="form-control"
                       formControlName="executivephone1"
                       id="executivephone1" validationClasses="executivephone1">
                <app-field-error-message controlName="executivephone1"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="executivephone2" class="form-label"
                       for="executivephone2">{{lang.map.lbl_phone_2}}</label>
                <input [readonly]="(readonly)" class="form-control"
                       formControlName="executivephone2"
                       id="executivephone2" validationClasses="executivephone2">
                <app-field-error-message controlName="executivephone2"></app-field-error-message>
              </div>
            </div>
            <div class="row">
              <div class="col-12 text-center action-container mb-3">
                <button [disabled]="!executiveManagementForm.valid" (click)="saveExecutive()"
                        class="btn btn-primary">{{lang.map.btn_save}}</button>
                <button class="btn btn-secondary"
                        (click)="cancelAddExecutive()">{{lang.map.btn_cancel}}</button>
              </div>
            </div>
          </ng-container>
        </ng-container>
        <div class="row">
          <div class="col-12">
            <app-table #table [columns]="executiveDisplayedColumns"
                       [data]="selectedExecutives" [selectable]="true"
                       [useSearchToFilter]="true"
                       sortableTable>
              <table [dataSource]="table.dataSource" cdk-table
                     class="table table-striped table-bordered caption-top">
                <ng-container cdkColumnDef="localName">
                  <th *cdkHeaderCellDef cdk-header-cell
                      sortable-header> {{lang.map.name_in_local_language_like_passport}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.nameLikePassport}} </td>
                </ng-container>
                <ng-container cdkColumnDef="englishName">
                  <th *cdkHeaderCellDef cdk-header-cell
                      sortable-header> {{lang.map.name_in_English_language_like_passport}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.englishNameLikePassport}} </td>
                </ng-container>
                <ng-container cdkColumnDef="jobTitle">
                  <th *cdkHeaderCellDef cdk-header-cell sortable-header> {{lang.map.job_title}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.jobTitle}} </td>
                </ng-container>
                <ng-container cdkColumnDef="nationality">
                  <th *cdkHeaderCellDef cdk-header-cell sortable-header> {{lang.map.lbl_nationality}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.executiveNationalityInfo?.getName() || ''}} </td>
                </ng-container>
                <ng-container cdkColumnDef="identificationNumber">
                  <th *cdkHeaderCellDef cdk-header-cell sortable-header> {{lang.map.national_id_number}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.executiveIdentificationNumber}} </td>
                </ng-container>
                <ng-container cdkColumnDef="actions">
                  <th *cdkHeaderCellDef cdk-header-cell> {{lang.map.lbl_actions}}</th>
                  <td *cdkCellDef="let row" cdk-cell class="table-actions">
                    <div class="d-flex flex-row">
                      <button (click)="removeExecutive($event, row)" [disabled]="(readonly || addExecutiveFormActive)"
                              class="btn btn-link outline-none" tooltip="{{lang.map.btn_remove}}">
                        <i class="mdi mdi-close-box"></i>
                      </button>
                      <button (click)="selectExecutive($event, row)" [disabled]="(readonly || addExecutiveFormActive)"
                              class="btn btn-link outline-none" tooltip="{{lang.map.btn_edit}}">
                        <i class="mdi mdi-pen"></i>
                      </button>
                    </div>
                  </td>
                </ng-container>
                <tr *cdkHeaderRowDef="executiveDisplayedColumns" cdk-header-row></tr>
                <tr *cdkRowDef="let row; columns: executiveDisplayedColumns;" cdk-row></tr>
                <!--suppress HtmlUnknownBooleanAttribute -->
                <tr *cdkNoDataRow>
                  <td class="text-center" colspan="100">{{lang.map.no_records_to_display}}</td>
                </tr>
              </table>
            </app-table>
          </div>
        </div>
      </ng-template>
    </ng-container>
    <ng-container formGroupName="receiverPersonInfo">
      <ng-template #receiver_person_info>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="receiverNameLikePassport" class="form-label"
                   for="receiverNameLikePassport">{{lang.map.name_in_local_language_like_passport}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="receiverNameLikePassport"
                   id="receiverNameLikePassport" validationClasses="receiverNameLikePassport">
            <app-field-error-message controlName="receiverNameLikePassport"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="receiverEnglishNameLikePassport" class="form-label"
                   for="receiverEnglishNameLikePassport">{{lang.map.name_in_English_language_like_passport}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="receiverEnglishNameLikePassport"
                   id="receiverEnglishNameLikePassport" validationClasses="receiverEnglishNameLikePassport">
            <app-field-error-message controlName="receiverEnglishNameLikePassport"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="receiverJobTitle" class="form-label"
                   for="receiverJobTitle">{{lang.map.job_title}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="receiverJobTitle"
                   id="receiverJobTitle" validationClasses="receiverJobTitle">
            <app-field-error-message controlName="receiverJobTitle"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="receiverNationality" class="form-label"
                   for="receiverNationality">{{lang.map.lbl_nationality}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="receiverNationality"
                       id="receiverNationality" validationClasses="receiverNationality">
              <ng-option *ngFor="let option of nationalities"
                         [value]="option.lookupKey">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="receiverNationality"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="receiverIdentificationNumber" class="form-label"
                   for="receiverIdentificationNumber">{{lang.map.national_id_number}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="receiverIdentificationNumber"
                   id="receiverIdentificationNumber" validationClasses="receiverIdentificationNumber">
            <app-field-error-message controlName="receiverIdentificationNumber"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="receiverPassportNumber" class="form-label"
                   for="receiverPassportNumber">{{lang.map.passport_number}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="receiverPassportNumber"
                   id="receiverPassportNumber" validationClasses="receiverPassportNumber">
            <app-field-error-message controlName="receiverPassportNumber"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="receiverPhone1" class="form-label"
                   for="receiverPhone1">{{lang.map.lbl_phone_1}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="receiverPhone1"
                   id="receiverPhone1" validationClasses="receiverPhone1">
            <app-field-error-message controlName="receiverPhone1"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="receiverPhone2" class="form-label"
                   for="receiverPhone2">{{lang.map.lbl_phone_2}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="receiverPhone2"
                   id="receiverPhone2" validationClasses="receiverPhone2">
            <app-field-error-message controlName="receiverPhone2"></app-field-error-message>
          </div>
        </div>
      </ng-template>
    </ng-container>
    <ng-container [formGroup]="transferPurposeForm">
      <ng-template #transfer_purpose_info>
        <ng-container *ngIf="isExternalUser">
          <div class="row">
            <div class="col">
              <h1 class="h6 text-primary m-0 d-inline-block">{{lang.map.add_purpose}}</h1>
              <button class="btn btn-link outline-none"
                      tooltip="{{lang.map.btn_add}}" (click)="openAddPurposeForm()">
                <i class="mdi mdi-plus-box"></i></button>
            </div>
          </div>
          <ng-container *ngIf="addPurposeFormActive">
            <div class="row">
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="projectName" class="form-label"
                       for="projectName">{{lang.map.project_name}}</label>
                <input [readonly]="(readonly)" class="form-control"
                       formControlName="projectName"
                       id="projectName" validationClasses="projectName">
                <app-field-error-message controlName="projectName"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="projectType" class="form-label"
                       for="projectType">{{lang.map.project_type}}</label>
                <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                           formControlName="projectType"
                           id="projectType" validationClasses="projectType">
                  <ng-option *ngFor="let option of projectTypes"
                             [value]="option.lookupKey">{{option.getName()}}</ng-option>
                </ng-select>
                <app-field-error-message controlName="projectType"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="projectImplementationPeriod" class="form-label"
                       for="projectImplementationPeriod">{{lang.map.execution_period_in_months}}</label>
                <input [readonly]="(readonly)" class="form-control"
                       formControlName="projectImplementationPeriod"
                       id="projectImplementationPeriod" validationClasses="projectImplementationPeriod">
                <app-field-error-message controlName="projectImplementationPeriod"></app-field-error-message>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="beneficiaryCountry" class="form-label"
                       for="beneficiaryCountry">{{lang.map.beneficiary_country}}</label>
                <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                           formControlName="beneficiaryCountry"
                           id="beneficiaryCountry" validationClasses="beneficiaryCountry">
                  <ng-option *ngFor="let option of countries"
                             [value]="option.id">{{option.getName()}}</ng-option>
                </ng-select>
                <app-field-error-message controlName="beneficiaryCountry"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="executionCountry" class="form-label"
                       for="executionCountry">{{lang.map.execution_country}}</label>
                <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                           formControlName="executionCountry"
                           id="executionCountry" validationClasses="executionCountry">
                  <ng-option *ngFor="let option of countries"
                             [value]="option.id">{{option.getName()}}</ng-option>
                </ng-select>
                <app-field-error-message controlName="executionCountry"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="totalCost" class="form-label"
                       for="totalCost">{{lang.map.total_cost}}</label>
                <input [readonly]="(readonly)" class="form-control"
                       formControlName="totalCost"
                       id="totalCost" validationClasses="totalCost">
                <app-field-error-message controlName="totalCost"></app-field-error-message>
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 col-sm-12 mb-4 position-relative">
                <label asteriskIfRequired="domain" class="form-label"
                       for="domain">{{lang.map.domain}}</label>
                <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                           formControlName="domain"
                           id="domain" validationClasses="domain">
                  <ng-option *ngFor="let option of domains"
                             [value]="option.lookupKey">{{option.getName()}}</ng-option>
                </ng-select>
                <app-field-error-message controlName="domain"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative" *ngIf="isHumanitarian">
                <label asteriskIfRequired="mainUNOCHACategory" class="form-label"
                       for="mainUNOCHACategory">{{lang.map.ocha}}</label>
                <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                           formControlName="mainUNOCHACategory"
                           id="mainUNOCHACategory" validationClasses="mainUNOCHACategory">
                  <ng-option *ngFor="let option of mainOchas"
                             [value]="option.id">{{option.getName()}}</ng-option>
                </ng-select>
                <app-field-error-message controlName="mainUNOCHACategory"></app-field-error-message>
              </div>
              <div class="col-md-4 col-sm-12 mb-4 position-relative" *ngIf="isDevelopment">
                <label asteriskIfRequired="mainDACCategory" class="form-label"
                       for="mainDACCategory">{{lang.map.dac}}</label>
                <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                           formControlName="mainDACCategory"
                           id="mainDACCategory" validationClasses="mainDACCategory">
                  <ng-option *ngFor="let option of mainDacs"
                             [value]="option.id">{{option.getName()}}</ng-option>
                </ng-select>
                <app-field-error-message controlName="mainDACCategory"></app-field-error-message>
              </div>
            </div>
            <div class="row">
              <div class="col-12 text-center action-container mb-3">
                <button [disabled]="!transferPurposeForm.valid" (click)="savePurpose()"
                        class="btn btn-primary">{{lang.map.btn_save}}</button>
                <button class="btn btn-secondary"
                        (click)="cancelAddPurpose()">{{lang.map.btn_cancel}}</button>
              </div>
            </div>
          </ng-container>
        </ng-container>
        <div class="row">
          <div class="col-12">
            <app-table #table [columns]="purposeDisplayedColumns"
                       [data]="selectedPurposes" [selectable]="true"
                       [useSearchToFilter]="true"
                       sortableTable>
              <table [dataSource]="table.dataSource" cdk-table
                     class="table table-striped table-bordered caption-top">
                <ng-container cdkColumnDef="projectName">
                  <th *cdkHeaderCellDef cdk-header-cell
                      sortable-header> {{lang.map.project_name}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.projectName}} </td>
                </ng-container>
                <ng-container cdkColumnDef="projectType">
                  <th *cdkHeaderCellDef cdk-header-cell
                      sortable-header> {{lang.map.project_type}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.projectTypeInfo?.getName() || ''}} </td>
                </ng-container>
                <ng-container cdkColumnDef="domain">
                  <th *cdkHeaderCellDef cdk-header-cell sortable-header> {{lang.map.domain}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.domainInfo?.getName() || ''}} </td>
                </ng-container>
                <ng-container cdkColumnDef="totalCost">
                  <th *cdkHeaderCellDef cdk-header-cell sortable-header> {{lang.map.total_cost}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.totalCost}} </td>
                </ng-container>
                <ng-container cdkColumnDef="beneficiaryCountry">
                  <th *cdkHeaderCellDef cdk-header-cell sortable-header> {{lang.map.beneficiary_country}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.beneficiaryCountryInfo?.getName() || ''}} </td>
                </ng-container>
                <ng-container cdkColumnDef="executionCountry">
                  <th *cdkHeaderCellDef cdk-header-cell sortable-header> {{lang.map.execution_country}}</th>
                  <td *cdkCellDef="let row" cdk-cell> {{row.executionCountryInfo?.getName() || ''}} </td>
                </ng-container>
                <ng-container cdkColumnDef="actions">
                  <th *cdkHeaderCellDef cdk-header-cell> {{lang.map.lbl_actions}}</th>
                  <td *cdkCellDef="let row" cdk-cell class="table-actions">
                    <div class="d-flex flex-row">
                      <button (click)="removePurpose($event, row)" [disabled]="(readonly || addPurposeFormActive)"
                              class="btn btn-link outline-none" tooltip="{{lang.map.btn_remove}}">
                        <i class="mdi mdi-close-box"></i>
                      </button>
                      <button (click)="selectPurpose($event, row)" [disabled]="(readonly || addPurposeFormActive)"
                              class="btn btn-link outline-none" tooltip="{{lang.map.btn_edit}}">
                        <i class="mdi mdi-pen"></i>
                      </button>
                    </div>
                  </td>
                </ng-container>
                <tr *cdkHeaderRowDef="purposeDisplayedColumns" cdk-header-row></tr>
                <tr *cdkRowDef="let row; columns: purposeDisplayedColumns;" cdk-row></tr>
                <!--suppress HtmlUnknownBooleanAttribute -->
                <tr *cdkNoDataRow>
                  <td class="text-center" colspan="100">{{lang.map.no_records_to_display}}</td>
                </tr>
              </table>
            </app-table>
          </div>
        </div>
      </ng-template>
    </ng-container>
    <ng-container formGroupName="financialTransactionInfo">
      <ng-template #financial_transaction_info>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="qatariTransactionAmount" class="form-label"
                   for="qatariTransactionAmount">{{lang.map.qatari_riyal_transaction_amount}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="qatariTransactionAmount"
                   id="qatariTransactionAmount" validationClasses="qatariTransactionAmount"
                   [mask]="inputMaskPatterns.DECIMAL_WITH_SEPARATOR(2)"
                   [thousandSeparator]="inputMaskPatterns.THOUSAND_SEPARATOR">
            <app-field-error-message controlName="qatariTransactionAmount"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="currencyTransferTransactionAmount" class="form-label"
                   for="currencyTransferTransactionAmount">{{lang.map.transaction_amount_in_transfer_currency}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="currencyTransferTransactionAmount"
                   id="currencyTransferTransactionAmount" validationClasses="currencyTransferTransactionAmount"
                   [mask]="inputMaskPatterns.DECIMAL_WITH_SEPARATOR(2)"
                   [thousandSeparator]="inputMaskPatterns.THOUSAND_SEPARATOR">
            <app-field-error-message controlName="currencyTransferTransactionAmount"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="currency" class="form-label"
                   for="currency">{{lang.map.currency}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="currency"
                       id="currency" validationClasses="currency">
              <ng-option *ngFor="let option of currencies"
                         [value]="option.lookupKey">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="currency"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="transferMethod" class="form-label"
                   for="transferMethod">{{lang.map.transfer_method}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="transferMethod"
                       id="transferMethod" validationClasses="transferMethod">
              <ng-option *ngFor="let option of transferMethods"
                         [value]="option.lookupKey">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="transferMethod"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="transferringEntityName" class="form-label"
                   for="transferringEntityName">{{lang.map.transferring_entity_name}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="transferringEntityName"
                   id="transferringEntityName" validationClasses="transferringEntityName">
            <app-field-error-message controlName="transferringEntityName"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="transferType" class="form-label"
                   for="transferType">{{lang.map.transferee_type}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="transferType"
                       id="transferType" validationClasses="transferType">
              <ng-option *ngFor="let option of transferTypes"
                         [value]="option.lookupKey">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="transferType"></app-field-error-message>
          </div>
        </div>
        <div class="row">
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="transferFromIBAN" class="form-label"
                   for="transferFromIBAN">{{lang.map.transfer_from_iban}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="transferFromIBAN"
                   id="transferFromIBAN" validationClasses="transferFromIBAN">
            <app-field-error-message controlName="transferFromIBAN"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="transfereeIBAN" class="form-label"
                   for="transfereeIBAN">{{lang.map.transferee_iban}}</label>
            <input [readonly]="(readonly)" class="form-control"
                   formControlName="transfereeIBAN"
                   id="transfereeIBAN" validationClasses="transfereeIBAN">
            <app-field-error-message controlName="transfereeIBAN"></app-field-error-message>
          </div>
          <div class="col-md-4 col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="transferCountry" class="form-label"
                   for="transferCountry">{{lang.map.transfer_to_country}}</label>
            <ng-select [clearable]="false" [readonly]="(readonly)" appendTo="body"
                       formControlName="transferCountry"
                       id="transferCountry" validationClasses="transferCountry">
              <ng-option *ngFor="let option of countries"
                         [value]="option.id">{{option.getName()}}</ng-option>
            </ng-select>
            <app-field-error-message controlName="transferCountry"></app-field-error-message>
          </div>
        </div>
      </ng-template>
    </ng-container>
    <ng-container formGroupName="explanation">
      <ng-template #special_explanations>
        <div class="row">
          <div class="col-sm-12 mb-4 position-relative">
            <label asteriskIfRequired="description" class="form-label"
                   for="description">{{lang.map.special_explanations}}</label>
            <textarea [readonly]="(readonly)" class="form-control" formControlName="description" id="description"
                      name="description" rows="4" validationClasses="description"></textarea>
            <app-field-error-message controlName="description"></app-field-error-message>
          </div>
        </div>
      </ng-template>
    </ng-container>
  </ng-container>
  <ng-template #attachmentsTab>
    <attachments [caseId]="model?.id" [caseType]="model?.caseType"
                 [service]="service.documentService"></attachments>
  </ng-template>
</div>
