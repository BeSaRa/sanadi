<div class="row" *ngIf="isClaimed && canUpdate">
  <div class="col-md-4">
    <label class="form-label"
           for="selectedOrg">{{lang.map.organization_officers}}</label>
    <div style="display: flex">
      <ng-select
      #selectOrganizations
      appendTo="body" [clearable]="true"
                 id="selectedOrg"
                 ng-model="selectedOrg"
                 style="flex: 1"
                 (change)="onChangeRecord($event)"

                 >
        <ng-option [value]="option.identificationNumber"
                   *ngFor="let option of organizationUsers">{{option.fullName}}</ng-option>
      </ng-select>
      <button class="btn btn-link outline-none" style="padding: 0"
              tooltip="{{lang.map.btn_add}}" (click)="onSave()"
              [disabled]="allowAdd()" >
        <i class="mdi mdi-plus-box"></i></button>
    </div>
  </div>
</div>

<div >
  <table *ngIf="list.length" cdk-table [dataSource]="listDataSource"
    class="table table-striped table-bordered caption-top">
    <ng-container cdkColumnDef="identificationNumber">
      <th cdk-header-cell *cdkHeaderCellDef> {{lang.map.login_name}}</th>
      <td cdk-cell *cdkCellDef="let row"><span class="dir-rtl d-inline-block">{{row.identificationNumber}}</span></td>
    </ng-container>
    <ng-container cdkColumnDef="fullName">
      <th cdk-header-cell *cdkHeaderCellDef> {{lang.map.full_name}}</th>
      <td cdk-cell *cdkCellDef="let row"><span class="dir-rtl d-inline-block">{{row.fullName}}</span></td>
    </ng-container>
    <ng-container cdkColumnDef="email">
      <th cdk-header-cell *cdkHeaderCellDef> {{lang.map.lbl_email}}</th>
      <td cdk-cell *cdkCellDef="let row"><span class="dir-ltr d-inline-block">{{row.email}}</span></td>
    </ng-container>
    <ng-container cdkColumnDef="phone">
      <th cdk-header-cell *cdkHeaderCellDef> {{lang.map.lbl_phone}}</th>
      <td cdk-cell *cdkCellDef="let row"><span class="user-select-all">{{row.phone}}</span></td>
    </ng-container>
    <ng-container cdkColumnDef="extraPhone">
      <th cdk-header-cell *cdkHeaderCellDef> {{lang.map.lbl_extra_phone_number}}</th>
      <td cdk-cell *cdkCellDef="let row"><span class="user-select-all">{{row.extraPhone}}</span></td>
    </ng-container>



    <ng-container cdkColumnDef="actions">
      <th cdk-header-cell *cdkHeaderCellDef> {{lang.map.lbl_actions}}</th>
      <td cdk-cell *cdkCellDef="let row;let i=index" class="table-actions">
        <div class="d-flex flex-row">
          <button (click)="delete($event, row,i)"
          [hidden]="row.organizationId !== currentUserOrgId"
          [disabled]="!isClaimed"
          tooltip="{{lang.map.btn_remove}}" class="btn btn-link outline-none">
            <i class="mdi mdi-close-box"></i>
          </button>
        </div>
      </td>
    </ng-container>
    <tr cdk-header-row *cdkHeaderRowDef="columns"></tr>
    <tr cdk-row *cdkRowDef="let row; columns: columns;"></tr>

    <tr *cdkNoDataRow>
      <td colspan="100" class="text-center">{{lang.map.no_records_to_display}}</td>
    </tr>
  </table>
</div>
