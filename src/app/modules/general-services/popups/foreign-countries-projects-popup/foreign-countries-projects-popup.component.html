<div
  class="dialog-toolbar bg-primary dialog-toolbar d-flex justify-content-between"
>
  <h1 class="h6 text-white">
    {{ lang.map[label] }} : {{ data.model.fullSerial }}
  </h1>
  <button
    type="button"
    class="btn-close btn-close-white"
    tabindex="-1"
    dialogClose
    aria-label="Close"
  ></button>
</div>
<div class="dialog-content" style="width: 800px">
  <div class="row">
    <div class="col-md-4 col-sm-12 mb-4 position-relative">
      <label for="followUpDate" class="form-label">{{
        lang.map.followup_date
      }}</label>
      <span class="text-danger"> * </span>
      <div class="input-group">
        <i class="input-group-text mdi mdi-calendar"></i>
        <div
          class="form-control"
          [formControl]="followUpDate"
          id="followUpDate"
          [options]="datepickerOptionsMap.followUpDate"
          (click)="dpFollowUpDate.toggleCalendar()"
          #dpFollowUpDate="angular-mydatepicker"
          angular-mydatepicker
        ></div>
        <app-field-error-message
          [control]="followUpDate"
        ></app-field-error-message>
      </div>
    </div>

    <div
      class="col-sm-12 col-md-8 mb-4 position-relative"
      *ngIf="organizations$ | async as organizations"
    >
      <label
        asteriskIfRequired="organizationId"
        for="organizationId"
        [control]="organizationId"
        class="form-label"
        >{{ lang.map.lbl_organization }}</label
      >
      <ng-select
        [selectOnTab]="true"
        labelForId="organizationId"
        [clearable]="true"
        placeholder="{{ lang.map.select }}"
        id="organizationId"
        [notFoundText]="lang.map.msg_not_found"
        appendTo="body"
        validationClasses
        [control]="organizationId"
        [formControl]="organizationId"
      >
        <ng-option [value]="org.id" *ngFor="let org of organizations">{{
          org.getName()
        }}</ng-option>
      </ng-select>
      <app-field-error-message
        [control]="organizationId"
      ></app-field-error-message>
    </div>
  </div>
  <div class="row">
    <div class="col-sm-12 mb-4 position-relative">
      <label
        class="form-label"
        asteriskIfRequired
        [control]="comment"
        for="comment"
        >{{ lang.map.comment }}</label
      >
      <textarea
        name="comment"
        [formControl]="comment"
        validationClasses
        [control]="comment"
        id="comment"
        rows="4"
        class="form-control"
      ></textarea>
      <app-field-error-message [control]="comment"></app-field-error-message>
    </div>
  </div>
</div>
<div class="dialog-actions">
  <div class="flex-grow-1"></div>
  <button
    [disabled]="!followUpDate.value"
    (click)="action$.next(null)"
    class="btn btn-primary"
  >
    {{ lang.map[label] }}
  </button>
  <button dialogClose class="btn btn-secondary">
    {{ lang.map.btn_close }}
  </button>
</div>
