<form [formGroup]="officerForm">
  <div class="row">
    <div class="col-md-4 col-sm-12 mb-4 position-relative">
      <label
        class="form-label"
        asteriskIfRequired="identificationNumber"
        for="identificationNumber"
        >{{ lang.map.identification_number }}</label
      >
      <input
        id="identificationNumber"
        validationClasses="identificationNumber"
        formControlName="identificationNumber"
        class="form-control"
        [readonly]="readonly"
      />
      <app-field-error-message
        controlName="identificationNumber"
      ></app-field-error-message>
    </div>
    <div class="col-md-4 col-sm-12 mb-4 position-relative">
      <label
        class="form-label"
        asteriskIfRequired="officerFullName"
        for="officerFullName"
        >{{ lang.map.full_name }}</label
      >
      <input
        id="officerFullName"
        validationClasses="officerFullName"
        formControlName="officerFullName"
        class="form-control"
        [readonly]="readonly"
      />
      <app-field-error-message
        controlName="officerFullName"
      ></app-field-error-message>
    </div>
    <div class="col-md-4 col-sm-12 mb-4 position-relative">
      <label class="form-label" asteriskIfRequired="email" for="email">{{
        lang.map.lbl_email
      }}</label>
      <input
        id="email"
        validationClasses="email"
        formControlName="email"
        class="form-control"
        [readonly]="readonly"
      />
      <app-field-error-message controlName="email"></app-field-error-message>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 col-sm-12 mb-4 position-relative">
      <label
        class="form-label"
        asteriskIfRequired="officerPhone"
        for="officerPhone"
        >{{ lang.map.lbl_phone }}</label
      >
      <input
        id="officerPhone"
        validationClasses="officerPhone"
        formControlName="officerPhone"
        class="form-control"
        trimInput
        [readonly]="readonly"
      />
      <app-field-error-message
        controlName="officerPhone"
      ></app-field-error-message>
    </div>
    <div class="col-md-4 col-sm-12 mb-4 position-relative">
      <label
        class="form-label"
        asteriskIfRequired="officerExtraPhone"
        for="officerExtraPhone"
        >{{ lang.map.lbl_extra_phone_number }}</label
      >
      <input
        id="officerExtraPhone"
        validationClasses="officerExtraPhone"
        formControlName="officerExtraPhone"
        class="form-control"
        [readonly]="readonly"
      />
      <app-field-error-message
        controlName="officerExtraPhone"
      ></app-field-error-message>
    </div>
  </div>
    <div class="col-12 d-flex flex-row align-items-center justify-content-center">
      <button
        (click)="saveOfficer()"
        [disabled]="!officerForm.valid"
        class="btn btn-primary m-2"
      >
        {{ selectedOfficer ? lang.map.update_officer : lang.map.add_officer }}
      </button>

    <button (click)="cancel()" class="btn btn-secondary m-2">
      {{ lang.map.btn_cancel }}
    </button>
    </div>
</form>
<div class="row">
  <div class="col-12">
    <app-table
      #table
      [useSearchToFilter]="true"
      [selectable]="true"
      [data]="selectedOrganizationOfficers"
      [columns]="organizationOfficerDisplayedColumns"
      sortableTable
    >
      <table
        cdk-table
        [dataSource]="table.dataSource"
        class="table table-striped table-bordered caption-top"
      >
        <ng-container cdkColumnDef="fullName">
          <th cdk-header-cell sortable-header *cdkHeaderCellDef>
            {{ lang.map.full_name }}
          </th>
          <td cdk-cell *cdkCellDef="let row">{{ row.fullName }}</td>
        </ng-container>
        <ng-container cdkColumnDef="identificationNumber">
          <th cdk-header-cell sortable-header *cdkHeaderCellDef>
            {{ lang.map.identification_number }}
          </th>
          <td cdk-cell *cdkCellDef="let row">
            {{ row.identificationNumber }}
          </td>
        </ng-container>
        <ng-container cdkColumnDef="email">
          <th cdk-header-cell sortable-header *cdkHeaderCellDef>
            {{ lang.map.lbl_email }}
          </th>
          <td cdk-cell *cdkCellDef="let row">{{ row.email }}</td>
        </ng-container>
        <ng-container cdkColumnDef="phoneNumber">
          <th cdk-header-cell sortable-header *cdkHeaderCellDef>
            {{ lang.map.lbl_phone }}
          </th>
          <td cdk-cell *cdkCellDef="let row">{{ row.phone }}</td>
        </ng-container>
        <ng-container cdkColumnDef="extraPhoneNumber">
          <th cdk-header-cell sortable-header *cdkHeaderCellDef>
            {{ lang.map.lbl_extra_phone_number }}
          </th>
          <td cdk-cell *cdkCellDef="let row">{{ row.extraPhone }}</td>
        </ng-container>
        <ng-container cdkColumnDef="actions">
          <th cdk-header-cell *cdkHeaderCellDef>
            {{ lang.map.lbl_actions }}
          </th>
          <td cdk-cell *cdkCellDef="let row" class="table-actions">
            <div class="d-flex flex-row">
              <button
                (click)="removeOfficer($event, row)"
                tooltip="{{ lang.map.btn_remove }}"
                class="btn btn-link outline-none"
                [disabled]="readonly"
              >
                <i class="mdi mdi-close-box"></i>
              </button>
              <button
                (click)="selectOfficer($event, row)"
                tooltip="{{ lang.map.btn_edit }}"
                class="btn btn-link outline-none"
                [disabled]="readonly"
              >
                <i class="mdi mdi-pen"></i>
              </button>
            </div>
          </td>
        </ng-container>
        <tr
          cdk-header-row
          *cdkHeaderRowDef="organizationOfficerDisplayedColumns"
        ></tr>
        <tr
          cdk-row
          *cdkRowDef="let row; columns: organizationOfficerDisplayedColumns"
        ></tr>
        <tr *cdkNoDataRow>
          <td colspan="100" class="text-center">
            {{ lang.map.no_records_to_display }}
          </td>
        </tr>
      </table>
    </app-table>
  </div>
</div>
