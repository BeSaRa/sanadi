<div class="row">
  <app-page-header [clickOnReload$]="reload$" pageTitle="menu_partial_requests"></app-page-header>
  <app-grid-search [filterButton]="true" (filterEvent)="listenToFilter($event)"
                   [filterCriteria]="filterCriteria"></app-grid-search>
</div>
<div class="mt-3">
  <div class="table-responsive">
    <table class="table table-striped table-bordered caption-top">
      <thead role="rowgroup">
      <tr>
        <th>{{langService.map.request_number}}</th>
        <th class="date-column">{{langService.map.request_date}}</th>
        <th>{{langService.map.lbl_organization}}</th>
        <th>{{langService.map.request_status}}</th>
        <th>{{langService.map.request_aid_amount}}</th>
        <th>{{langService.map.lbl_actions}} </th>
      </tr>
      </thead>
      <tbody>
      <ng-container *ngFor="let request of partialRequests;">
        <tr>
          <td><span class="dir-ltr d-inline-block"> {{request.requestFullSerial}} </span></td>
          <td class="date-column"> {{request.creationDateString}} </td>
          <td>{{request.orgInfo.getName()}} - {{request.orgBranchInfo.getName()}} </td>
          <td> {{request.requestStatusInfo.getName()}} </td>
          <td> {{request.requestedAidAmount | mask:inputMaskPatterns.SEPARATOR:inputMaskPatterns.THOUSAND_SEPARATOR}} </td>
          <td class="table-actions">
            <div class="d-flex flex-row">
              <button (click)="request.showPartialRequestDetails($event)" tooltip="{{langService.map.show_details}}"
                      class="icon-btn text-primary">
                <i class="mdi mdi-view-list"></i>
              </button>
              <button (click)="addPartialRequest($event, request)" tooltip="{{langService.map.btn_add_partial_request}}"
                      class="icon-btn text-primary">
                <i class="mdi mdi-plus"></i>
              </button>
            </div>
          </td>
        </tr>
      </ng-container>
      </tbody>
    </table>
  </div>
</div>
